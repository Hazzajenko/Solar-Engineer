<ng-container *ngIf='graphicsState() as state'>
  <div class='rounded bg-slate-100 p-2'>
    <ng-container
      *ngTemplateOutlet='checkbox;
      context: {
      toggle: "toggleSelectedPanelFill",
      checked: state.selectedPanelFill,
      id: "toggle-selected-panel-fill",
      label: "Selected Panel Fill"}' />
    <ng-container
      *ngTemplateOutlet='checkbox;
      context: {
      toggle: "toggleSelectedStringPanelFill",
      checked: state.selectedStringPanelFill,
      id: "toggle-selected-string-panel-fill",
      label: "Selected String Panel Fill"}' />
    <ng-container
      *ngTemplateOutlet='checkbox;
      context: {
      toggle: "toggleColouredStrings",
      checked: state.colouredStrings,
      id: "toggle-coloured-strings",
      label: "Coloured Strings"}' />
    <ng-container
      *ngTemplateOutlet='checkbox;
      context: {
      toggle: "toggleStringBoxes",
      checked: state.stringBoxes,
      id: "toggle-string-boxes",
      label: "String Boxes"}' />
    <ng-container
      *ngTemplateOutlet='checkbox;
      context: {
      toggle: "toggleCreatePreview",
      checked: state.createPreview,
      id: "toggle-create-preview",
      label: "Create Preview"}' />
    <ng-container
      *ngTemplateOutlet='checkbox;
      context: {
      toggle: "toggleNearbyLineGraphics",
      checked: state.nearbyLines !== NEARBY_LINES_STATE.NEARBY_LINES_DISABLED,
      id: "toggle-nearby-lines",
      label: "Nearby Lines"}' />
    <select
      [disabled]='state.nearbyLines === NEARBY_LINES_STATE.NEARBY_LINES_DISABLED'
      (change)='changeNearbyGraphics($event)'
      id='nearby-graphics'
      name='nearby-graphics'
      class='mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6'
    >
      <option
        *ngFor='let option of nearbyGraphicsSelectMenuArray'
        [selected]='state.nearbyLines === option.value'
        [value]='option.value'
      >
        {{ option.label }}
      </option>
    </select>
  </div>
</ng-container>

<ng-template #checkbox
             let-toggle='toggle'
             let-checked='checked'
             let-id='id'
             let-label='label'>
  <div
    (click)='toggleGraphics(toggle)'
    class='relative flex items-start p-2 hover:bg-gray-200'
  >
    <div class='flex h-6 items-center'>
      <input
        [id]='id'
        [checked]='checked'
        type='checkbox'
        class='h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600'
      />
    </div>
    <div class='pointer-events-none ml-3 text-sm leading-6'>
      <label [for]='id'
             class='font-medium text-gray-900'>{{label}}</label>
    </div>
  </div>
</ng-template>