<ng-container *ngIf="vm$ | async as vm">
  <div
    scroll-element
    *ngIf="vm.panel as panel"
    [rotation]="panel.rotation"
    [selected]="vm.selected"
    id="{{ panel.id }}"
    bind-attr.panelId="panel.id"
    bind-attr.location="panel.location"
    bind-attr.rotation="panel.rotation"
    bind-attr.type="panel.type"
    cdkDrag
    (contextmenu)="onRightClick($event, panel)"
    [cdkDragData]="panel"
    [cdkDragFreeDragPosition]="location"
    (cdkDragDropped)="dragDropped($event)"
    (cdkDragEnded)="dragExited($event)"
    (cdkDragMoved)="dragMoved($event)"
    appDesignPanel
    class="panel absolute flex content-center items-center justify-center border hover:bg-blue-400 active:bg-blue-500 active:shadow-lg"
  ></div>
</ng-container>
<!--hover:bg-red-500 active:bg-blue-400-->

<div
  [matMenuTriggerFor]="rightMenu"
  [style.left]="menuTopLeftPosition.x"
  [style.top]="menuTopLeftPosition.y"
  style="visibility: hidden; position: fixed"
></div>

<mat-menu
  class="z-10 mt-1 w-32 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
  #rightMenu="matMenu"
>
  <ng-container *ngIf="vm$ | async as vm">
    <ng-template matMenuContent>
      <app-panel-menu [store]="store" [panelId]="vm.panel.id" [selected]="vm.selected" />
    </ng-template>
  </ng-container>
</mat-menu>
<!--<div
  id="context-menu"
  class="pointer-events-none absolute z-10 mt-1 w-32 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
  style="display: none"
  #contextMenu
>
  <app-panel-menu
    id="panel-menu"
    class="pointer-events-auto"
    *ngIf="vm$ | async as vm"
    [store]="store"
    (closeMenu)="contextMenu.style.display = 'none'"
    [panelId]="vm.panel.id"
    [selected]="vm.selected"
  />
</div>-->
<!--(contextmenu)="onRightClick($event, panel)"-->
<!--
<div
  [matMenuTriggerFor]="rightMenu"
  [style.left]="menuTopLeftPosition.x"
  [style.top]="menuTopLeftPosition.y"
  style="visibility: hidden; position: fixed"
></div>

<mat-menu
  class="z-10 mt-1 w-32 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
  #rightMenu="matMenu"
>
  <ng-container *ngIf="vm$ | async as vm">
    <ng-template matMenuContent>
      <app-panel-menu [panelId]="vm.panel.id" [selected]="vm.selected" />
    </ng-template>
  </ng-container>
</mat-menu>
-->
