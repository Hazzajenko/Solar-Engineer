<ng-container *ngIf='contextMenu$ | async as menu'>
  <ul id='menu-list'
      class='py-1 text-sm text-gray-700 dark:text-gray-200 absolute z-10  mt-2 w-56 bg-gray-200 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none'>
    <ng-container *ngIf='menu.type === "SingleEntity" else Multiple'>
      <ng-container *ngIf='menu.id | getEntityById as panel'>
        <div class='px-4 py-3'
             role='none'>
          <p class='truncate text-sm font-medium text-gray-900'
             role='none'>Panel</p>
        </div>
        <li (click)='rotate($event)'>
          <a
            role='menuitem'
            tabindex='-1'
            class='group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white'
          >
            <app-show-svg class='mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500'
                          svgPath='rotate' />
            Rotate
          </a>
        </li>
        <li>
          <a
            (click)='delete()'
            role='menuitem'
            tabindex='-1'
            class='group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white'
          >
            <app-show-svg class='mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500'
                          svgPath='bin' />
            Delete
          </a>
        </li>
        <ng-container
          *ngIf='panel.string else noString'
        >
          <div class='px-4 py-3'
               role='none'>
            <p class='truncate text-sm font-medium text-gray-900'
               role='none'>String</p>
          </div>
          <li
          >
            <a
              role='menuitem'
              tabindex='-1'
              class='group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white'
            >
              <app-show-svg class='mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500'
                            svgPath='editing' />
              Edit String
            </a>
          </li>
          <li
          >
            <a
              role='menuitem'
              tabindex='-1'
              class='group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white'
            >
              <app-show-svg class='mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500'
                            svgPath='apps-delete' />
              Remove Panel From String
            </a>
          </li>
        </ng-container>
        <ng-template #noString>
          <li
          >
            <a
              role='menuitem'
              tabindex='-1'
              class='group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white'
            >
              <app-show-svg class='mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500'
                            svgPath='add' />
              Add To String
            </a>
          </li>
        </ng-template>
      </ng-container>
    </ng-container>
    <ng-template #Multiple>
      <!--    <ul
            [style.left]='menu.x'
            [style.top]='menu.y'
            class='py-2 text-sm text-gray-700 dark:text-gray-200 absolute z-10'>-->
      <li (click)='rotate($event)'>
        <!--    <li (click)='entitiesStore.dispatch.updateCanvasEntity({id: })'>-->
        <a
          role='menuitem'
          tabindex='-1'
          class='group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white'
        >
          <app-show-svg class='mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500'
                        svgPath='rotate' />
          Multi Selected
        </a>
      </li>
      <!--    </ul>-->
    </ng-template>
  </ul>
</ng-container>
