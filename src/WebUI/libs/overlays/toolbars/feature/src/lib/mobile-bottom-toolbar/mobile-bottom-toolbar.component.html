<!--[@increaseTop]="contextMenuOpen() === 'main-context-menu'"-->
<!--increaseHeightWithTemps-->
<!--appExpandableAbsolute-->
<!--[increaseHeightWithTemps]="contextMenuOpen() === 'main-context-menu' ? [mainContextMenu] : []"-->
<!--[ngStyle]="{
height: mobileToolbarHeight()
}"-->
<div
	#mobileToolbar
	@goTop
	[currentContextMenuDiv]="currentContextMenuDiv()"
	appMobileBottomToolbar
	class="flex overflow-hidden bg-gray-100 shadow-md dark:bg-gray-800 rounded-lg z-50 absolute bottom-8 left-1/2 -translate-x-1/2"
	id="mobile-toolbar"
>
	<ul
		#contextMenu
		*ngIf="contextMenuOpen() === 'main-context-menu'"
		@goTop
		class="pt-1 text-sm text-gray-700 dark:text-gray-200 absolute h-fit w-full divide-y divide-gray-100 ring-1 ring-black ring-opacity-5 focus:outline-none"
		id="main-context-menu"
	>
		<li>
			<a
				class="group w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="links/link"
				/>
				Option 1
			</a>
		</li>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="hero-icons/bell"
				/>
				Option 2
			</a>
		</li>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="hero-icons/data"
				/>
				Option 3
			</a>
		</li>
	</ul>

	<div
		#contextMenu
		*ngIf="contextMenuOpen() === 'color-picker-context-menu'"
		@goTop
		class="pt-4 pb-4 text-sm text-gray-700 dark:text-gray-200 absolute h-fit w-full divide-y divide-gray-100 ring-1 ring-black ring-opacity-5 focus:outline-none"
		id="color-picker-context-menu"
	>
		<div class="grid grid-cols-4 gap-4 justify-items-center">
			<div
				(touchstart)="setStringColor(color)"
				*ngFor="let color of stringColors"
				[ngStyle]="{
				'background-color': color,
				'border': selectedStringColor() === color ? '1px solid black' : 'none',
				 }"
				style="width: 25px; height: 25px; border-radius: 50%"
			></div>
		</div>
	</div>

	<div
		#contextMenu
		*ngIf="contextMenuOpen() === 'mode-picker-context-menu'"
		@goTop
		class="pt-4 pb-4 text-sm text-gray-700 dark:text-gray-200 absolute h-fit w-full divide-y divide-gray-100 ring-1 ring-black ring-opacity-5 focus:outline-none"
		id="mode-picker-context-menu"
	>
		<!--		SelectMode-->
		<!--		CreateMode-->
		<!--		<div class="grid grid-cols-2 gap-4 justify-items-center">-->
		<div class="flex flex-row items-center justify-around">
			<div>
				<div
					(touchstart)="selectMode('SelectMode')"
					[ngStyle]="{
					'background-color': mode() === 'SelectMode' ? 'black' : 'white',
					'border': mode() === 'SelectMode' ? '1px solid black' : 'none',
					'color': mode() === 'SelectMode' ? 'white' : 'black',
					}"
					class="flex items-center justify-center"
					style="width: 25px; height: 25px; border-radius: 50%"
				>
					<app-show-svg-no-styles inputClass="w-4 h-4" svgPath="hero-icons/cursor-arrow-ripple" />
				</div>
				<span class="text-xs">SelectMode</span>
			</div>
			<div>
				<div
					(touchstart)="selectMode('CreateMode')"
					[ngStyle]="{
					'background-color': mode() === 'CreateMode' ? 'black' : 'white',
					'border': mode() === 'CreateMode' ? '1px solid black' : 'none',
					'color': mode() === 'CreateMode' ? 'white' : 'black',
					}"
					class="flex items-center justify-center"
					style="width: 25px; height: 25px; border-radius: 50%"
				>
					<app-show-svg-no-styles inputClass="w-4 h-4" svgPath="hero-icons/plus-circle" />
				</div>
				<span class="text-xs">CreateMode</span>
			</div>
		</div>
		<!--		</div>-->
	</div>

	<div class="flex overflow-hidden bg-gray-100 shadow-md dark:bg-gray-800 rounded-lg">
		<div class="flex items-end justify-between p-2 flex-row space-y-0 space-x-4" id="button-group">
			<div class="flex items-center space-x-1">
				<button
					#menuButton
					(touchstart)="toggleContextMenu($event, 'main-context-menu')"
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					menu-button-for="main-context-menu"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/bars-arrow-up" />
					<span class="sr-only">Menu Up</span>
				</button>
			</div>
			<div class="flex items-center space-x-1">
				<button
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/arrow-uturn-left" />
					<span class="sr-only">Undo</span>
				</button>
			</div>
			<div class="flex items-center space-x-1">
				<button
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/arrow-uturn-right" />
					<span class="sr-only">Redo</span>
				</button>
			</div>
			<div class="flex items-center space-x-1">
				<button
					(touchstart)="toggleContextMenu($event, 'color-picker-context-menu')"
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/paint-brush" />
					<span class="sr-only">Change Colour</span>
				</button>
			</div>
			<div class="flex items-center space-x-1">
				<button
					#menuButton
					(touchstart)="toggleContextMenu($event, 'mode-picker-context-menu')"
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/wrench" />
					<span class="sr-only">Change Mode</span>
				</button>
			</div>
		</div>
	</div>
</div>

<ng-template #mainContextMenu>
	<div>
		<ul
			#listElement
			@goTop
			class="pt-1 text-sm text-gray-700 dark:text-gray-200 absolute h-fit w-full divide-y divide-gray-100 ring-1 ring-black ring-opacity-5 focus:outline-none"
			id="main-context-menu2"
		>
			<li>
				<a
					class="group w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
					role="menuitem"
					tabindex="-1"
				>
					<app-show-svg-no-styles
						class="mr-1 text-gray-400 group-hover:text-gray-500"
						svgPath="links/link"
					/>
					Option 1
				</a>
			</li>
			<li>
				<a
					class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
					role="menuitem"
					tabindex="-1"
				>
					<app-show-svg-no-styles
						class="mr-1 text-gray-400 group-hover:text-gray-500"
						svgPath="hero-icons/bell"
					/>
					Option 2
				</a>
			</li>
			<li>
				<a
					class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
					role="menuitem"
					tabindex="-1"
				>
					<app-show-svg-no-styles
						class="mr-1 text-gray-400 group-hover:text-gray-500"
						svgPath="hero-icons/data"
					/>
					Option 3
				</a>
			</li>
			<!--		<div class="px-4 py-3" role="none">
						<p class="truncate text-sm font-medium text-gray-900" role="none">Menu</p>
					</div>-->
		</ul>
	</div>
</ng-template>

<!--<div class="flex absolute bottom-8 left-1/2 -translate-x-1/2 z-50">
	<ul
		#listElement
		*ngIf="contextMenuOpen() === 'main-context-menu'"
		@goTop
		[ngClass]='{
			"hidden": contextMenuOpen() !== "main-context-menu",
			"bottom-[{{mob}}]": contextMenuOpen() === "main-context-menu"
		}'
		class="pt-1 text-sm text-gray-700 dark:text-gray-200 absolute h-fit z-50 mb-2 bg-gray-200 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
		id="main-context-menu"
	>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="links/link"
				/>
				Option 1
			</a>
		</li>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="hero-icons/bell"
				/>
				Option 2
			</a>
		</li>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="hero-icons/data"
				/>
				Option 3
			</a>
		</li>
		<div class="px-4 py-3" role="none">
			<p class="truncate text-sm font-medium text-gray-900" role="none">Menu</p>
		</div>
	</ul>
	<div
		#mobileToolbar
		@goTop
		appExpandableAbsolute
		class="flex overflow-hidden bg-gray-100 shadow-md dark:bg-gray-800 rounded-lg relative"
		id="mobile-toolbar"
	>
		<div class="flex items-end justify-between p-2 flex-row space-y-0 space-x-4" id="button-group">
			<div class="flex items-center space-x-1">
				&lt;!&ndash;			(touchstart)="openMenuTouch($event, menu)"&ndash;&gt;
				&lt;!&ndash;			(touchstart)="openMenuTouch($event, menu)"&ndash;&gt;
				<button
					#menuButton
					(touchstart)="toggleContextMenu($event, 'main-context-menu')"
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					menu-button-for="main-context-menu"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/bars-arrow-up" />
					<span class="sr-only">Menu Up</span>
				</button>
			</div>

			<div class="flex items-center space-x-1">
				<button
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/arrow-uturn-left" />
					<span class="sr-only">Undo</span>
				</button>
			</div>
			<div class="flex items-center space-x-1">
				<button
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/arrow-uturn-right" />
					<span class="sr-only">Redo</span>
				</button>
			</div>
			<div class="flex items-center space-x-1">
				<button
					[matMenuTriggerFor]="aboveMenu"
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/paint-brush" />
					<span class="sr-only">Change Colour</span>
				</button>
			</div>
			<mat-menu #aboveMenu="matMenu" class="bottom-0" yPosition="above">
				<li class="flex items-center">
					<button
						(touchstart)="selectMode('SelectMode')"
						[ngClass]="{
							'bg-gray-100 dark:bg-gray-600': mode === 'SelectMode',
							'hover:bg-gray-100 dark:hover:bg-gray-600': mode !== 'SelectMode'
						}"
						class="ml-1.5 flex items-center text-sm font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 w-full px-1.5 py-1 rounded-md"
						type="button"
					>
						Select
					</button>
				</li>

				<li class="flex items-center">
					<button
						(touchstart)="selectMode('CreateMode')"
						[ngClass]="{
							'bg-gray-100 dark:bg-gray-600': mode === 'CreateMode',
							'hover:bg-gray-100 dark:hover:bg-gray-600': mode !== 'CreateMode'
						}"
						class="ml-1.5 flex items-center text-sm font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 w-full px-1.5 py-1 rounded-md"
						type="button"
					>
						Create
					</button>
				</li>
			</mat-menu>
			<div class="flex items-center space-x-1">
				<button
					#menuButton
					(touchstart)="toggleContextMenu($event, 'wrench-context-menu')"
					class="p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600"
					type="button"
				>
					<app-show-svg-no-styles inputClass="w-5 h-5" svgPath="menus/wrench" />
					<span class="sr-only">Change Mode</span>
				</button>
			</div>
		</div>
	</div>
</div>-->

<!--<div
	#contextMenu
	*ngIf="contextMenuOpen() === 'main-context-menu'"
	class="absolute"
	id="main-context-menu"
>
	&lt;!&ndash;		"top": "calc(" + mobileToolbar.getBoundingClientRect().top + "px - " + listElement.getBoundingClientRect().height + "px)",&ndash;&gt;
	&lt;!&ndash;	top: 'calc(' + mobileToolbar.getBoundingClientRect().top + 'px - 100%)'&ndash;&gt;
	&lt;!&ndash;	'calc(' +
		mobileToolbar.getBoundingClientRect().top +
		'px - ' +
		listElement.getBoundingClientRect().height +
		'px)'&ndash;&gt;
	&lt;!&ndash;	bottom-[calc({{ mobileToolbar.getBoundingClientRect().top }}px - {{
		listElement.getBoundingClientRect().height
		}}px)]&ndash;&gt;
	<ul
		#listElement
		(divInit)="initDiv(listElement)"
		@goTop
		[consoleLog]="[
			'calc(' +
				mobileToolbar.getBoundingClientRect().top +
				'px - ' +
				listElement.getBoundingClientRect().height +
				'px)',
			'calc(' + mobileToolbar.getBoundingClientRect().top + 'px + 100%)',
			'bottom-[calc({{mobileToolbar.getBoundingClientRect().top}}px - {{listElement.getBoundingClientRect().height}}px)]'
		]"
		[ngStyle]="{
			left: 'calc(' + mobileToolbar.getBoundingClientRect().left + 'px + 100%)',
		}"
		class="bottom-[calc({{ mobileToolbar.getBoundingClientRect().top }}px_-_{{
			listElement.getBoundingClientRect().height
		}}px)] pt-1 text-sm text-gray-700 dark:text-gray-200 absolute h-fit z-50 mb-2 bg-gray-200 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
	>
		&lt;!&ndash;		<div class="bg-red-500 w-24 h-[calc(100vh_-_36px)]"></div>&ndash;&gt;
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="links/link"
				/>
				Option 1
			</a>
		</li>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="hero-icons/bell"
				/>
				Option 2
			</a>
		</li>
		<li>
			<a
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 text-gray-400 group-hover:text-gray-500"
					svgPath="hero-icons/data"
				/>
				Option 3
			</a>
		</li>
		<div class="px-4 py-3" role="none">
			<p class="truncate text-sm font-medium text-gray-900" role="none">Menu</p>
		</div>
	</ul>
</div>-->

<div
	#contextMenu
	*ngIf="contextMenuOpen() === 'wrench-context-menu'"
	class="absolute"
	id="wrench-context-menu"
>
	<ul
		#listElement
		(divInit)="initDiv(listElement)"
		@goTop
		class="py-1 text-sm text-gray-700 dark:text-gray-200 absolute z-50 mt-2 w-32 bg-gray-200 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
	>
		<li class="flex items-center">
			<button
				(touchstart)="selectMode('SelectMode')"
				[ngClass]="{
					'bg-gray-100 dark:bg-gray-600': mode() === 'SelectMode',
					'hover:bg-gray-100 dark:hover:bg-gray-600': mode() !== 'SelectMode'
				}"
				class="ml-1.5 flex items-center text-sm font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 w-full px-1.5 py-1 rounded-md"
				type="button"
			>
				Select
			</button>
		</li>

		<li class="flex items-center">
			<button
				(touchstart)="selectMode('CreateMode')"
				[ngClass]="{
					'bg-gray-100 dark:bg-gray-600': mode() === 'CreateMode',
					'hover:bg-gray-100 dark:hover:bg-gray-600': mode() !== 'CreateMode'
				}"
				class="ml-1.5 flex items-center text-sm font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 w-full px-1.5 py-1 rounded-md"
				type="button"
			>
				Create
			</button>
		</li>

		<li class="flex items-center">
			<button
				(touchstart)="selectMode('LinkMode')"
				[ngClass]="{
					'bg-gray-100 dark:bg-gray-600': mode() === 'LinkMode',
					'hover:bg-gray-100 dark:hover:bg-gray-600': mode() !== 'LinkMode'
				}"
				class="ml-1.5 flex items-center text-sm font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 w-full px-1.5 py-1 rounded-md"
				type="button"
			>
				Link
			</button>
		</li>
	</ul>
</div>
