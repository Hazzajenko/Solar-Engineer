<side-ui-base [view]="sideUiView">
	<side-ui-view-heading heading="Connections" />
	<ng-container *ngIf="user() as user; then loggedIn; else notLoggedIn" />
	<ng-template #loggedIn>
		<!--
				<p
					*ngIf="!userSearchResults().length"
					class="mb-2 text-sm font-medium text-gray-900 dark:text-white"
				>
					Your Friends
				</p>-->

		<!--		<button
					(click)="openSearchForUsersDialog()"
					class="mb-2 text-sm font-medium text-gray-900 dark:text-white"
				>
					Show Dialog
				</button>
				<p
					*ngIf="userSearchResults().length"
					class="mb-2 text-sm font-medium text-gray-900 dark:text-white"
				>
					Search Results
				</p>-->

		<!--		<form class="mb-2">
					<label
						class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"
						for="default-search"
						>Search</label
					>
					<div class="relative">
						<div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
							<svg
								aria-hidden="true"
								class="w-5 h-5 text-gray-500 dark:text-gray-400"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
								></path>
							</svg>
						</div>
						<input
							(keyup)="onSearchBoxKeyDown($event)"
							class="block w-full pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
							id="default-search"
							placeholder="Search Users..."
							required
							type="search"
						/>
					</div>
				</form>-->
		<!--	<button
				class="w-full rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
				type="button"
			>
				Search
			</button>-->
		<button
			(click)="openSearchForUsersDialog()"
			class="group mb-2 inline-flex w-full items-center gap-x-1.5 rounded-md px-2.5 py-1.5 text-sm bg-white font-semibold text-gray-600 hover:text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
			type="button"
		>
			<svg-input
				class="group-hover:text-gray-700"
				inputClass="h-5 w-5"
				svgName="SvgMagnifyingGlass"
			/>
			Search
		</button>
		<p class="text-xs ml-2 font-medium text-gray-900 dark:text-white">
			{{ amountOfFriendsOnline() }} Online
		</p>
		<!--<div *ngIf="userSearchResults().length" class="pt-2">
			<ul class="space-y-1">
				<li *ngFor="let userResult of userSearchResults(); trackBy: webUserModelTrackByFn">
					<app-users-view-user-preview
						(userContextMenuOpen)="openUserContextMenu($event, userResult)"
						(userViewToggle)="toggleUserView(userResult.id)"
						[isOpen]="openedUsers().has(userResult.id)"
						[user]="userResult"
					/>
					<app-users-view-web-user-item
						(userOptionsDialogOpen)="openUserOptionsDialog(userResult)"
						*ngIf="openedUsers().has(userResult.id)"
						[friend]="userResult"
					/>
				</li>
			</ul>
		</div>-->
		<ng-container *ngIf="friends().length; then friendsList; else noFriends" />
	</ng-template>
</side-ui-base>

<ng-template #notLoggedIn>
	<div class="text-center">
		<h3 class="font-medium tracking-tight text-gray-900 dark:text-white">
			<a href="#">Demo Account</a>
		</h3>
		<!--		<ng-container *ngTemplateOutlet="noFriends" />-->
		<!--		<p class="mt-1 text-sm text-gray-500">Sign in to view your notifications.</p>-->
		<p class="mt-1 text-sm text-gray-500">Sign in to view your connections.</p>
		<div class="mt-6">
			<button
				class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
				type="submit"
			>
				Sign in
			</button>
		</div>
	</div>
</ng-template>

<ng-template #friendsList>
	<ul class="space-y-1">
		<li *ngFor="let friend of friendsSorted(); trackBy: webUserModelTrackByFn">
			<app-users-view-user-preview
				(userContextMenuOpen)="openUserContextMenu($event, friend)"
				(userViewToggle)="toggleUserView(friend.id)"
				[isOpen]="openedUsers().has(friend.id)"
				[user]="friend"
			/>
			<app-users-view-web-user-item
				(userOptionsDialogOpen)="openUserOptionsDialog(friend)"
				*ngIf="openedUsers().has(friend.id)"
				[friend]="friend"
			/>
		</li>
	</ul>
</ng-template>
<ng-template #noFriends>
	<div class="text-center">
		<svg
			aria-hidden="true"
			class="mx-auto h-12 w-12 text-gray-400"
			fill="none"
			stroke="currentColor"
			viewBox="0 0 24 24"
		>
			<path
				d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"
				stroke-linecap="round"
				stroke-linejoin="round"
				stroke-width="2"
				vector-effect="non-scaling-stroke"
			/>
		</svg>
		<h3 class="mt-2 font-medium text-gray-900 dark:text-white">No Friends</h3>
		<p class="mt-1 text-sm text-gray-500">
			To add friends, search for them by username or email address.
		</p>
	</div>
</ng-template>
