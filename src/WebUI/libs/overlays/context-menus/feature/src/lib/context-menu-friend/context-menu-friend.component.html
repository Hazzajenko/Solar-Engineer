<div *ngIf="webUser() as webUser" [contextMenuInput]="contextMenu" appContextMenu class="absolute">
	<ul
		@increaseScaleAndOpacity
		class="py-1 text-sm text-gray-700 dark:text-gray-200 absolute z-50 mt-2 w-56 bg-gray-200 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
	>
		<div class="flex justify-start px-4 py-3">
			<a
				class="flex items-center text-base rounded-lg transition duration-75 hover:underline dark:text-white group"
			>
				<span class="relative inline-block">
					<img
						[alt]="webUser.displayName + ' profile picture'"
						[ngSrc]="webUser.photoUrl"
						class="h-6 w-6 rounded-full"
						height="24"
						width="24"
					/>
					<!--If Is Offline-->
					<!-- <span
											class="absolute right-0 top-0 block h-1.5 w-1.5 rounded-full bg-gray-300 ring-2 ring-white"></span>-->
					<!-- If Is Online -->
					<span
						class="absolute right-0 top-0 block h-1.5 w-1.5 rounded-full bg-green-400 ring-2 ring-white"
					></span>
				</span>
				<span class="ml-3 capitalize text-sm text-gray-900">{{
					webUser.displayName | truncate : 10
				}}</span>
			</a>
		</div>
		<li>
			<a
				(click)="openProfile()"
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 group-hover:text-gray-600"
					svgPath="profile/user-circle"
				/>
				Open Profile
			</a>
		</li>
		<li class="relative">
			<div
				(click)="
					inviteToProjectMenu.style.display === 'block'
						? (inviteToProjectMenu.style.display = 'none')
						: (inviteToProjectMenu.style.display = 'block')
				"
				class="group hover:bg-gray-100 flex items-center justify-between"
			>
				<div class="group flex items-center justify-center">
					<a
						class="flex items-center px-4 py-2 text-sm text-gray-700 group-hover:text-gray-600 dark:hover:bg-gray-600 dark:hover:text-white"
						role="menuitem"
						tabindex="-1"
					>
						<app-show-svg-no-styles
							class="mr-1 group-hover:text-gray-600"
							svgPath="profile/user-plus"
						/>
						Invite to Project
					</a>
				</div>
				<a class="flex group justify-end items-center pr-1 text-sm" role="menuitem" tabindex="-1">
					<app-show-svg-no-styles class="group-hover:text-gray-600" svgPath="arrows/right" />
				</a>
			</div>
			<div
				#inviteToProjectMenu
				@increaseScaleAndOpacity
				class="py-1 text-sm text-gray-700 dark:text-gray-200 absolute top-1 left-full ml-2 z-50 w-56 bg-gray-200 divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
				style="display: none"
			>
				<div
					*ngFor="let project of projects()"
					class="group hover:bg-gray-100 flex items-center justify-between"
				>
					<div
						(click)="openInviteToProjectDialog(project)"
						class="group flex items-center justify-center"
					>
						<span
							[ngStyle]="{
								'background-color': project.colour,
								'border-color': project.colour
							}"
							class="w-4 h-4 rounded ml-3"
						></span>
						<div class="flex flex-col items-center justify-center">
							<a
								class="flex items-center px-4 py-2 text-sm text-gray-700 group-hover:text-gray-600 dark:hover:bg-gray-600 dark:hover:text-white"
								role="menuitem"
								tabindex="-1"
							>
								<app-show-svg-no-styles
									class="mr-1 group-hover:text-gray-600"
									svgPath="profile/user-plus"
								/>
								{{ project.name }}
							</a>
						</div>
					</div>
				</div>
			</div>
		</li>
		<li>
			<a
				(click)="sendMessage()"
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 group-hover:text-gray-600"
					svgPath="users/chat-bubble-left"
				/>
				Send Message
			</a>
		</li>
		<li>
			<a
				(click)="removeFriend()"
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 group-hover:text-gray-600"
					svgPath="profile/user-plus"
				/>
				Remove as Friend
			</a>
		</li>
		<li>
			<a
				(click)="blockUser()"
				class="group flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
				role="menuitem"
				tabindex="-1"
			>
				<app-show-svg-no-styles
					class="mr-1 group-hover:text-gray-600"
					svgPath="profile/user-minus"
				/>
				Block User
			</a>
		</li>
	</ul>
</div>
