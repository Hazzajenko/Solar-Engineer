<dialog-backdrop-template-component #dialog>
	<div class="top-10 w-1/2 min-w-fit h-3/4 overflow-y-auto p-4">
		<div>
			<h5
				class="inline-flex items-center mb-6 text-sm font-semibold text-gray-800 dark:text-gray-200"
				id="drawer-label"
			>
				Select Project Template
			</h5>
			<div>
				<ul
					class="grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 lg:grid-cols-4 xl:gap-x-8"
					role="list"
				>
					<li *ngFor="let template of templates" class="relative">
						<div
							(click)="selectTemplate(template)"
							class="group aspect-h-7 aspect-w-10 block w-full overflow-hidden rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 focus-within:ring-offset-gray-100"
						>
							<img
								[ngSrc]="template.photoUrl"
								alt="{{ template.name }} preview"
								class="pointer-events-none object-cover group-hover:opacity-75"
								height="225"
								width="425"
							/>
							<button class="absolute inset-0 focus:outline-none" type="button">
								<span class="sr-only">View details for {{ template.name }}</span>
							</button>
						</div>
						<p class="pointer-events-none mt-2 block truncate text-sm font-medium text-gray-900">
							{{ template.name }}
						</p>
						<p class="pointer-events-none block text-sm font-medium text-gray-500">
							{{ template.description }}
						</p>
					</li>
				</ul>
			</div>
			<div class="mt-5 flex items-center justify-end gap-x-2">
				<button
					(click)="dialog.closeDialog()"
					class="inline-flex max-w-fit justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
					type="button"
				>
					Cancel
				</button>
				<button
					(click)="onSubmit()"
					[disabled]="!selectedTemplateName()"
					[ngClass]="{
						'opacity-50 cursor-not-allowed bg-blue-700 hover:bg-blue-800': !selectedTemplateName(),
						'bg-blue-500 hover:bg-blue-600': selectedTemplateName()
					}"
					class="bg-primary-500 text-white inline-flex items-center justify-center font-medium rounded-lg text-sm px-3 py-2 text-center focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
					type="submit"
				>
					<span *ngIf="selectedTemplateName() as selectedProjectName">
						Select {{ selectedProjectName | truncate : 10 }}
					</span>
					<span *ngIf="!selectedTemplateName()"> No Template Selected </span>
				</button>
			</div>
		</div>
	</div>
</dialog-backdrop-template-component>
