<!--<ng-container *ngIf="freePanel$ | async as freePanel">-->
<!--  style="width: 32px; height: 32px"-->
<!--  <div class="absolute flex content-center items-center justify-center whitespace-pre-wrap">-->
<ng-container *ngIf="freePanel$ | async as freePanel">
  <!--      [id]="freePanel.id"-->
  <div
    #panel="freePanel"
    [backgroundColor]="freePanel.backgroundColor"
    [rotation]="freePanel.rotation"
    id="{{ freePanel.id }}"
    bind-attr.panelId="freePanel.id"
    bind-attr.location="freePanel.location"
    bind-attr.rotation="freePanel.rotation"
    bind-attr.type="freePanel.type"
    (contextmenu)="onRightClick($event, freePanel)"
    cdkDrag
    [cdkDragData]="freePanel"
    [cdkDragFreeDragPosition]="location"
    (cdkDragDropped)="dragDropped($event)"
    (cdkDragEnded)="dragExited($event)"
    (cdkDragMoved)="dragMoved($event)"
    (cdkDragStarted)="startDragging($event)"
    appFreePanelDirective
    class="panel absolute flex content-center items-center justify-center border hover:bg-red-500"
  ></div>
</ng-container>

<div
  [matMenuTriggerFor]="rightMenu"
  [style.left]="menuTopLeftPosition.x"
  [style.top]="menuTopLeftPosition.y"
  style="visibility: hidden; position: fixed"
></div>

<mat-menu
  class="z-10 w-44 divide-y divide-gray-100 rounded-lg bg-white dark:divide-gray-600 dark:bg-gray-700"
  #rightMenu="matMenu"
>
  <ng-template matMenuContent let-freePanel="freePanel">
    <div
      class="z-10 w-44 divide-y divide-gray-100 rounded-lg bg-white dark:divide-gray-600 dark:bg-gray-700"
    >
      <ul
        class="py-2 text-sm text-gray-700 dark:text-gray-200"
        aria-labelledby="dropdownMenuIconButton"
      >
        <li (click)="rotatePanel(freePanel)">
          <a class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">
            Rotate
          </a>
        </li>
        <li>
          <a
            (click)="deletePanel(freePanel)"
            class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
          >
            Delete
          </a>
        </li>
      </ul>
    </div>
  </ng-template>
</mat-menu>
