<ng-container *ngIf="user$ | async as user">
  <ng-container *ngIf="project$ | async as project">
    <main class="py-10">
      <!-- Page header -->
      <div
        class="mx-auto max-w-3xl px-4 sm:px-6 md:flex md:items-center md:justify-between md:space-x-5 lg:max-w-7xl lg:px-8"
      >
        <div class="flex items-center space-x-5">
          <div class="flex-shrink-0">
            <div
              class="flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-l-md bg-pink-600 text-sm font-medium text-white"
            >
              {{ project.name | slice : 0 : 2 | uppercase }}
              <!--          GA-->
            </div>
          </div>
          <!--          <div class="flex-shrink-0">
                      <div class="relative">
                        <img
                          class="h-16 w-16 rounded-full"
                          src="https://images.unsplash.com/photo-1463453091185-61582044d556?ixlib=rb-=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=8&w=1024&h=1024&q=80"
                          alt=""
                        />
                        <span class="absolute inset-0 rounded-full shadow-inner" aria-hidden="true"></span>
                      </div>
                    </div>-->
          <div>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">{{ project.name }}</h1>
            <!--            <h1 class='text-2xl font-bold text-gray-900'>Ricardo Cooper</h1>-->
            <p class="text-sm font-medium text-gray-500 dark:text-gray-300">
              Created on {{ project.createdTime | date : "medium" }}
              <!--    Applied for <a href='#' class='text-gray-900'>Front End Developer</a> on
                  <time datetime='2020-08-25'>August 25, 2020</time>-->
            </p>
          </div>
        </div>
        <div
          class="justify-stretch mt-6 flex flex-col-reverse space-y-4 space-y-reverse sm:flex-row-reverse sm:justify-end sm:space-y-0 sm:space-x-3 sm:space-x-reverse md:mt-0 md:flex-row md:space-x-3"
        >
          <app-button-builder
            (clickEvent)="generateMembers(project, 5)"
            tone="Secondary"
            size="lg"
            text="GenerateMembers(5)"
          />
          <app-button-builder
            (clickEvent)="routeToInvite(project)"
            tone="Secondary"
            size="lg"
            text="Invite"
          />
          <!--       <button
                   type="button"
                   class="inline-flex items-center justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"
                 >
                   Disqualify
                 </button>-->
          <app-button-builder
            (clickEvent)="routeToProject(project)"
            tone="Primary"
            size="lg"
            class="inline-flex items-center justify-center"
            text="Start Grid Layout"
          />
          <!--          <button
                      (click)="routeToProject(project)"
                      type="button"
                      class="inline-flex items-center justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600"
                    >
                      Start Grid Layout
                    </button>-->
        </div>
      </div>

      <div
        class="mx-auto mt-8 grid max-w-3xl grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense lg:grid-cols-3"
      >
        <div class="space-y-6 lg:col-span-2 lg:col-start-1">
          <!-- Description list-->
          <section aria-labelledby="applicant-information-title">
            <div class="bg-white shadow dark:bg-slate-700 sm:rounded-lg">
              <div class="px-4 py-5 sm:px-6">
                <h2
                  id="applicant-information-title"
                  class="text-lg font-medium leading-6 text-gray-900 dark:text-white"
                >
                  Project Information
                </h2>
                <p class="mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-300">
                  Personal details and application.
                </p>
              </div>
              <div class="border-t border-gray-200 px-4 py-5 sm:px-6">
                <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2">
                  <div class="sm:col-span-1">
                    <!--                 <dt class="text-sm font-medium text-gray-500">
                                       {{ project.memberIds.length }}
                                     </dt>
                                     <dd class="mt-1 text-sm text-gray-900">Members</dd>-->
                    <dt class="text-sm font-medium text-gray-500 dark:text-gray-300">Members</dt>
                    <div class="flex items-center space-x-2">
                      <div class="flex flex-shrink-0 -space-x-1">
                        <img
                          *ngFor="let item of 4 | generateUserData"
                          class="h-6 w-6 max-w-none rounded-full ring-2 ring-white"
                          [src]="item.photoUrl"
                          [alt]="item.userName"
                        />
                      </div>

                      <span
                        class="flex-shrink-0 text-xs font-medium leading-5 text-gray-500 dark:text-gray-300"
                        >+{{ project.memberIds.length ?? 0 }}</span
                      >
                      <app-button-builder
                        (clickEvent)="viewAllMembers(project)"
                        tone="Secondary"
                        size="sm"
                        text="View All"
                      />
                    </div>
                  </div>
                  <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 dark:text-gray-300">
                      Last Modified
                    </dt>
                    <dd class="mt-1 text-sm text-gray-900 dark:text-white">
                      {{ project.lastModifiedTime | date : "medium" }}
                    </dd>
                  </div>
                  <!--<div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 dark:text-gray-300">
                      Salary expectation
                      {{project.}}
                    </dt>
                    <dd class="mt-1 text-sm text-gray-900 dark:text-gray-100">$120,000</dd>
                  </div>
                  <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500 dark:text-gray-300">Phone</dt>
                    <dd class="mt-1 text-sm text-gray-900 dark:text-gray-100">+1 555-555-5555</dd>
                  </div>-->
                  <div class="sm:col-span-2">
                    <dt class="text-sm font-medium text-gray-500 dark:text-gray-300">About</dt>
                    <dd class="mt-1 text-sm text-gray-900 dark:text-gray-200">
                      Fugiat ipsum ipsum deserunt culpa aute sint do nostrud anim incididunt cillum
                      culpa consequat. Excepteur qui ipsum aliquip consequat sint. Sit id mollit
                      nulla mollit nostrud in ea officia proident. Irure nostrud pariatur mollit ad
                      adipisicing reprehenderit deserunt qui eu.
                    </dd>
                  </div>
                  <div class="sm:col-span-2">
                    <dt class="text-sm font-medium text-gray-500 dark:text-gray-300">
                      Attachments
                    </dt>
                    <dd class="mt-1 text-sm text-gray-900 dark:text-white">
                      <ul
                        role="list"
                        class="divide-y divide-gray-200 rounded-md border border-gray-200 dark:divide-gray-600 dark:border-gray-700"
                      >
                        <li class="flex items-center justify-between py-3 pl-3 pr-4 text-sm">
                          <div class="flex w-0 flex-1 items-center">
                            <svg
                              class="h-5 w-5 flex-shrink-0 text-gray-400 dark:text-gray-300"
                              viewBox="0 0 20 20"
                              fill="currentColor"
                              aria-hidden="true"
                            >
                              <path
                                fill-rule="evenodd"
                                d="M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z"
                                clip-rule="evenodd"
                              />
                            </svg>
                            <span class="ml-2 w-0 flex-1 truncate text-gray-400 dark:text-gray-100"
                              >panel_string_layout.pdf</span
                            >
                            <!--                            <span class='ml-2 w-0 flex-1 truncate'>resume_front_end_developer.pdf</span>-->
                          </div>
                          <div class="ml-4 flex-shrink-0">
                            <a
                              href="#"
                              class="font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400"
                              >Download</a
                            >
                          </div>
                        </li>

                        <li class="flex items-center justify-between py-3 pl-3 pr-4 text-sm">
                          <div class="flex w-0 flex-1 items-center">
                            <svg
                              class="h-5 w-5 flex-shrink-0 text-gray-400 dark:text-gray-300"
                              viewBox="0 0 20 20"
                              fill="currentColor"
                              aria-hidden="true"
                            >
                              <path
                                fill-rule="evenodd"
                                d="M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z"
                                clip-rule="evenodd"
                              />
                            </svg>
                            <span class="ml-2 w-0 flex-1 truncate text-gray-400 dark:text-gray-100"
                              >panel_config.pdf</span
                            >
                          </div>
                          <div class="ml-4 flex-shrink-0">
                            <a
                              href="#"
                              class="font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400"
                              >Download</a
                            >
                          </div>
                        </li>
                      </ul>
                    </dd>
                  </div>
                </dl>
              </div>
              <div>
                <a
                  href="#"
                  class="block bg-gray-50 px-4 py-4 text-center text-sm font-medium text-gray-500 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:text-gray-200 sm:rounded-b-lg"
                  >Read full application</a
                >
              </div>
            </div>
          </section>

          <section aria-labelledby="notes-title">
            <app-project-dashboard-feed />
          </section>
        </div>

        <section aria-labelledby="timeline-title" class="lg:col-span-1 lg:col-start-3">
          <app-project-dashboard-timeline />
        </section>
      </div>
    </main>
  </ng-container>
</ng-container>
