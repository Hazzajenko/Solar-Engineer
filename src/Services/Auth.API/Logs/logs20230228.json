{"@t":"2023-02-28T08:36:56.5766511Z","@mt":"Registered 4 endpoints in 651 milliseconds.","SourceContext":"FastEndpoints.StartupTimer","Application":"auth-service"}
{"@t":"2023-02-28T08:36:56.7442937Z","@mt":"No validators found in the system!","SourceContext":"FastEndpoints.Swagger.ValidationSchemaProcessor","Application":"auth-service"}
{"@t":"2023-02-28T08:37:01.7453992Z","@mt":"An error occurred during migration","@l":"Error","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\r\n   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\r\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|208_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Auth.API\\Program.cs:line 68","SourceContext":"Program","Application":"auth-service","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void MoveNext()","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"System.Net.Sockets","TargetSite":"Void ThrowException(System.Net.Sockets.SocketError, System.Threading.CancellationToken)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"}}
{"@t":"2023-02-28T08:37:01.9826924Z","@mt":"Now listening on: {address}","address":"https://localhost:6005","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:01.9851726Z","@mt":"Now listening on: {address}","address":"http://localhost:5005","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:01.9859881Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:01.9866067Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:01.9880156Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Auth.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:04.9194951Z","@mt":"Connection Failed: {InputAddress}","@l":"Warning","@x":"RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable\r\n ---> System.IO.IOException: connection.start was never received, likely due to a network timeout\r\n   at RabbitMQ.Client.Framing.Impl.Connection.StartAndTune()\r\n   at RabbitMQ.Client.Framing.Impl.Connection.Open(Boolean insist)\r\n   at RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, String clientProvidedName)\r\n   at RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, ArrayPool`1 memoryPool, String clientProvidedName)\r\n   at RabbitMQ.Client.Framing.Impl.ProtocolBase.CreateConnection(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, ArrayPool`1 memoryPool, String clientProvidedName)\r\n   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)\r\n   --- End of inner exception stack trace ---\r\n   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)\r\n   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)\r\n   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 86","InputAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"auth-service","ExceptionDetail":{"HResult":-2146232800,"Message":"None of the specified endpoints were reachable","Source":"RabbitMQ.Client","TargetSite":"RabbitMQ.Client.IConnection CreateConnection(RabbitMQ.Client.IEndpointResolver, System.String)","InnerException":{"Type":"System.IO.IOException","HResult":-2146232800,"Message":"connection.start was never received, likely due to a network timeout","Source":"RabbitMQ.Client","TargetSite":"Void StartAndTune()"},"Type":"RabbitMQ.Client.Exceptions.BrokerUnreachableException"}}
{"@t":"2023-02-28T08:37:11.5560046Z","@mt":"Bus started: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"auth-service"}
{"@t":"2023-02-28T08:37:19.9330987Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:19.9763241Z","@mt":"Bus stopped: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"auth-service"}
{"@t":"2023-02-28T08:37:25.2670795Z","@mt":"Registered 4 endpoints in 289 milliseconds.","SourceContext":"FastEndpoints.StartupTimer","Application":"auth-service"}
{"@t":"2023-02-28T08:37:25.3374895Z","@mt":"No validators found in the system!","SourceContext":"FastEndpoints.Swagger.ValidationSchemaProcessor","Application":"auth-service"}
{"@t":"2023-02-28T08:37:26.6782357Z","@mt":"Bus started: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"auth-service"}
{"@t":"2023-02-28T08:37:26.7007311Z","@mt":"Now listening on: {address}","address":"https://localhost:6005","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:26.7020631Z","@mt":"Now listening on: {address}","address":"http://localhost:5005","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:26.7027316Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:26.7032377Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:26.7038156Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Auth.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:37:33.9034386Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["134.0989"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":401,"Elapsed":134.0989,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCS4PR981:00000001","ConnectionId":"0HMOPCS4PR981","Application":"auth-service"}
{"@t":"2023-02-28T08:37:43.6143843Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["16.4051"],"RequestMethod":"GET","RequestPath":"/auth/login/google","StatusCode":302,"Elapsed":16.4051,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCS4PR982:00000001","ConnectionId":"0HMOPCS4PR982","Application":"auth-service"}
{"@t":"2023-02-28T08:37:44.8603258Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["616.0322"],"RequestMethod":"GET","RequestPath":"/signin-google","StatusCode":302,"Elapsed":616.0322,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCS4PR983:00000001","ConnectionId":"0HMOPCS4PR983","Application":"auth-service"}
{"@t":"2023-02-28T08:37:45.9413707Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2.8998"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":401,"Elapsed":2.8998,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCS4PR985:00000001","ConnectionId":"0HMOPCS4PR985","Application":"auth-service"}
{"@t":"2023-02-28T08:37:46.2720550Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["816.6645"],"RequestMethod":"GET","RequestPath":"/auth/authorize","StatusCode":200,"Elapsed":816.6645,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCS4PR984:00000001","ConnectionId":"0HMOPCS4PR984","Application":"auth-service"}
{"@t":"2023-02-28T08:37:46.2925592Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3.4112"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":401,"Elapsed":3.4112,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCS4PR986:00000001","ConnectionId":"0HMOPCS4PR986","Application":"auth-service"}
{"@t":"2023-02-28T08:38:47.6524968Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:38:47.7049432Z","@mt":"Bus stopped: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"auth-service"}
{"@t":"2023-02-28T08:38:53.4921550Z","@mt":"Registered 4 endpoints in 300 milliseconds.","SourceContext":"FastEndpoints.StartupTimer","Application":"auth-service"}
{"@t":"2023-02-28T08:38:53.5660650Z","@mt":"No validators found in the system!","SourceContext":"FastEndpoints.Swagger.ValidationSchemaProcessor","Application":"auth-service"}
{"@t":"2023-02-28T08:38:54.8466456Z","@mt":"Bus started: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"auth-service"}
{"@t":"2023-02-28T08:38:54.8734059Z","@mt":"Now listening on: {address}","address":"https://localhost:6005","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:38:54.8747898Z","@mt":"Now listening on: {address}","address":"http://localhost:5005","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:38:54.8754035Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:38:54.8758794Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:38:54.8764107Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Auth.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"auth-service"}
{"@t":"2023-02-28T08:39:20.0894444Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["356.9997"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":200,"Elapsed":356.9997,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BH:00000001","ConnectionId":"0HMOPCT32U4BH","Application":"auth-service"}
{"@t":"2023-02-28T08:39:21.2862154Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["63.1414"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":200,"Elapsed":63.1414,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BI:00000001","ConnectionId":"0HMOPCT32U4BI","Application":"auth-service"}
{"@t":"2023-02-28T08:41:15.9093195Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["22.3182"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":200,"Elapsed":22.3182,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BJ:00000001","ConnectionId":"0HMOPCT32U4BJ","Application":"auth-service"}
{"@t":"2023-02-28T08:41:15.9523202Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.3064"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":200,"Elapsed":4.3064,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BK:00000001","ConnectionId":"0HMOPCT32U4BK","Application":"auth-service"}
{"@t":"2023-02-28T08:46:53.5992344Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["38.6266"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":200,"Elapsed":38.6266,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BL:00000001","ConnectionId":"0HMOPCT32U4BL","Application":"auth-service"}
{"@t":"2023-02-28T08:46:53.6225951Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.3023"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":200,"Elapsed":4.3023,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BM:00000001","ConnectionId":"0HMOPCT32U4BM","Application":"auth-service"}
{"@t":"2023-02-28T08:49:57.4223061Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.1466"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":200,"Elapsed":4.1466,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BN:00000001","ConnectionId":"0HMOPCT32U4BN","Application":"auth-service"}
{"@t":"2023-02-28T08:49:57.4719380Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5.5861"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":200,"Elapsed":5.5861,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BO:00000001","ConnectionId":"0HMOPCT32U4BO","Application":"auth-service"}
{"@t":"2023-02-28T08:52:15.6658217Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["58.8858"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":200,"Elapsed":58.8858,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BP:00000001","ConnectionId":"0HMOPCT32U4BP","Application":"auth-service"}
{"@t":"2023-02-28T08:52:15.6952504Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3.7564"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":200,"Elapsed":3.7564,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BQ:00000001","ConnectionId":"0HMOPCT32U4BQ","Application":"auth-service"}
{"@t":"2023-02-28T09:00:13.7499150Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["27.8186"],"RequestMethod":"POST","RequestPath":"/auth/returning-user","StatusCode":200,"Elapsed":27.8186,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BR:00000001","ConnectionId":"0HMOPCT32U4BR","Application":"auth-service"}
{"@t":"2023-02-28T09:00:13.7699575Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.0578"],"RequestMethod":"GET","RequestPath":"/auth/user","StatusCode":200,"Elapsed":4.0578,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMOPCT32U4BS:00000001","ConnectionId":"0HMOPCT32U4BS","Application":"auth-service"}
