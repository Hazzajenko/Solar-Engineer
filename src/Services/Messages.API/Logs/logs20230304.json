{"@t":"2023-03-03T23:57:55.0015626Z","@mt":"Registered 3 endpoints in 234 milliseconds.","SourceContext":"FastEndpoints.StartupTimer","Application":"messages-service"}
{"@t":"2023-03-03T23:57:55.1673415Z","@mt":"No validators found in the system!","SourceContext":"FastEndpoints.Swagger.ValidationSchemaProcessor","Application":"messages-service"}
{"@t":"2023-03-03T23:57:55.2906452Z","@mt":"Connecting to Redis endpoints: {Endpoints}. Using Server Name: {ServerName}","Endpoints":"localhost","ServerName":"DESKTOP-G3RIR5H_03ddc4f9c99b453e9e2d2d378ad49733","EventId":{"Id":1,"Name":"ConnectingToEndpoints"},"SourceContext":"Microsoft.AspNetCore.SignalR.StackExchangeRedis.RedisHubLifetimeManager","Application":"messages-service"}
{"@t":"2023-03-03T23:57:55.5876156Z","@mt":"Connected to Redis.","EventId":{"Id":2,"Name":"Connected"},"SourceContext":"Microsoft.AspNetCore.SignalR.StackExchangeRedis.RedisHubLifetimeManager","Application":"messages-service"}
{"@t":"2023-03-03T23:57:56.8813063Z","@mt":"An error occurred during migration","@l":"Error","@x":"Npgsql.NpgsqlException (0x80004005): Exception while reading from stream\r\n ---> System.IO.IOException: Unable to read data from the transport connection: An established connection was aborted by the software in your host machine..\r\n ---> System.Net.Sockets.SocketException (10053): An established connection was aborted by the software in your host machine.\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ReceiveAsync(Socket socket, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.ReceiveAsync(Memory`1 buffer, SocketFlags socketFlags, Boolean fromNetworkStream, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.NetworkStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|42_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|42_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)\r\n   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async, Boolean readingNotifications)\r\n   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecuteFromThreadPool(Thread threadPoolThread)\r\n   at System.Threading.ThreadPoolWorkQueue.Dispatch()\r\n   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()\r\n--- End of stack trace from previous location ---\r\n\r\n   --- End of inner exception stack trace ---\r\n   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|42_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)\r\n   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|42_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|208_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.ExistsAsync(CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Messages.API\\Program.cs:line 91","SourceContext":"Program","Application":"messages-service","ExceptionDetail":{"HResult":-2147467259,"Message":"Exception while reading from stream","Source":"Npgsql","TargetSite":"Void MoveNext()","InnerException":{"Type":"System.IO.IOException","HResult":-2146232800,"Message":"Unable to read data from the transport connection: An established connection was aborted by the software in your host machine..","Source":"System.Private.CoreLib","TargetSite":"Void Throw()","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"An established connection was aborted by the software in your host machine.","Source":null,"SocketErrorCode":"ConnectionAborted","SocketErrorCodeMessage":"The connection was aborted by the .NET Framework or the underlying socket provider."}},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"}}
{"@t":"2023-03-03T23:57:57.2105842Z","@mt":"Configured endpoint {Endpoint}, Consumer: {ConsumerType}","Endpoint":"AppUserLoggedInEvent-Messages","ConsumerType":"Messages.API.Consumers.AppUserLoggedInConsumer","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-03T23:57:57.4780973Z","@mt":"Connection Failed: {InputAddress}","@l":"Warning","@x":"RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable\r\n ---> System.IO.IOException: connection.start was never received, likely due to a network timeout\r\n   at RabbitMQ.Client.Framing.Impl.Connection.StartAndTune()\r\n   at RabbitMQ.Client.Framing.Impl.Connection.Open(Boolean insist)\r\n   at RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, String clientProvidedName)\r\n   at RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, ArrayPool`1 memoryPool, String clientProvidedName)\r\n   at RabbitMQ.Client.Framing.Impl.ProtocolBase.CreateConnection(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, ArrayPool`1 memoryPool, String clientProvidedName)\r\n   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)\r\n   --- End of inner exception stack trace ---\r\n   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)\r\n   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)\r\n   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 86","InputAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"messages-service","ExceptionDetail":{"HResult":-2146232800,"Message":"None of the specified endpoints were reachable","Source":"RabbitMQ.Client","TargetSite":"RabbitMQ.Client.IConnection CreateConnection(RabbitMQ.Client.IEndpointResolver, System.String)","InnerException":{"Type":"System.IO.IOException","HResult":-2146232800,"Message":"connection.start was never received, likely due to a network timeout","Source":"RabbitMQ.Client","TargetSite":"Void StartAndTune()"},"Type":"RabbitMQ.Client.Exceptions.BrokerUnreachableException"}}
{"@t":"2023-03-03T23:57:57.5568483Z","@mt":"Now listening on: {address}","address":"https://localhost:6002","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:57:57.5583862Z","@mt":"Now listening on: {address}","address":"http://localhost:5002","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:57:57.5602016Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:57:57.5611555Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:57:57.5620607Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Messages.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:05.1480132Z","@mt":"Bus started: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-03T23:58:07.7274130Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:07.7923218Z","@mt":"Bus stopped: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-03T23:58:16.1272099Z","@mt":"Registered 3 endpoints in 159 milliseconds.","SourceContext":"FastEndpoints.StartupTimer","Application":"messages-service"}
{"@t":"2023-03-03T23:58:16.2098150Z","@mt":"No validators found in the system!","SourceContext":"FastEndpoints.Swagger.ValidationSchemaProcessor","Application":"messages-service"}
{"@t":"2023-03-03T23:58:16.2442097Z","@mt":"Connecting to Redis endpoints: {Endpoints}. Using Server Name: {ServerName}","Endpoints":"localhost","ServerName":"DESKTOP-G3RIR5H_1f3aa603d6b24088a860f1a915c55eff","EventId":{"Id":1,"Name":"ConnectingToEndpoints"},"SourceContext":"Microsoft.AspNetCore.SignalR.StackExchangeRedis.RedisHubLifetimeManager","Application":"messages-service"}
{"@t":"2023-03-03T23:58:16.3667163Z","@mt":"Connected to Redis.","EventId":{"Id":2,"Name":"Connected"},"SourceContext":"Microsoft.AspNetCore.SignalR.StackExchangeRedis.RedisHubLifetimeManager","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.0398877Z","@mt":"Configured endpoint {Endpoint}, Consumer: {ConsumerType}","Endpoint":"AppUserLoggedInEvent-Messages","ConsumerType":"Messages.API.Consumers.AppUserLoggedInConsumer","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.3304733Z","@mt":"Now listening on: {address}","address":"https://localhost:6002","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.3313206Z","@mt":"Now listening on: {address}","address":"http://localhost:5002","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.3320271Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.3327108Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.3339790Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Messages.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-03T23:58:18.4823151Z","@mt":"Bus started: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-04T11:16:51.7842268Z","@mt":"Application is shutting down...","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-04T11:16:51.8938494Z","@mt":"Bus stopped: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-04T11:17:04.3465499Z","@mt":"Registered 3 endpoints in 190 milliseconds.","SourceContext":"FastEndpoints.StartupTimer","Application":"messages-service"}
{"@t":"2023-03-04T11:17:04.4888540Z","@mt":"No validators found in the system!","SourceContext":"FastEndpoints.Swagger.ValidationSchemaProcessor","Application":"messages-service"}
{"@t":"2023-03-04T11:17:04.5752325Z","@mt":"Connecting to Redis endpoints: {Endpoints}. Using Server Name: {ServerName}","Endpoints":"localhost","ServerName":"DESKTOP-G3RIR5H_46cbc8e5dafa47d3baa539a53f1cec07","EventId":{"Id":1,"Name":"ConnectingToEndpoints"},"SourceContext":"Microsoft.AspNetCore.SignalR.StackExchangeRedis.RedisHubLifetimeManager","Application":"messages-service"}
{"@t":"2023-03-04T11:17:04.7415075Z","@mt":"Connected to Redis.","EventId":{"Id":2,"Name":"Connected"},"SourceContext":"Microsoft.AspNetCore.SignalR.StackExchangeRedis.RedisHubLifetimeManager","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.5325381Z","@mt":"Configured endpoint {Endpoint}, Consumer: {ConsumerType}","Endpoint":"AppUserLoggedInEvent-Messages","ConsumerType":"Messages.API.Consumers.AppUserLoggedInConsumer","SourceContext":"MassTransit","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.7281220Z","@mt":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","FullName":"C:\\Users\\jenki\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.8657423Z","@mt":"Now listening on: {address}","address":"https://localhost:6002","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.8668898Z","@mt":"Now listening on: {address}","address":"http://localhost:5002","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.8680280Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.8688944Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-04T11:17:06.8703892Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Users\\jenki\\source\\app\\solar-engineer\\src\\Services\\Messages.API","SourceContext":"Microsoft.Hosting.Lifetime","Application":"messages-service"}
{"@t":"2023-03-04T11:17:07.0311875Z","@mt":"Bus started: {HostAddress}","HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit","Application":"messages-service"}
