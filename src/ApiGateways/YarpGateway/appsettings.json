{
  "ReverseProxy": {
    "Routes": {
      "auth": {
        "ClusterId": "auth",
        "Match": {
          "path": "/auth/{**catch-all}"
        },
        "Transforms": [
          {
            "pathPattern": "{**catch-all}"
          }
        ]
      },
      "users": {
        "ClusterId": "users",
        "AuthorizationPolicy": "RequireAuthenticatedUser",
        "Match": {
          "path": "/users/{**catch-all}"
          //          "path"
        },
        "Transforms": [
          {
            "pathPattern": "{**catch-all}"
          },
          {
            "RequestHeadersCopy": "true"
          },
          {
            "RequestHeaderOriginalHost": "true"
          },
          {
            "RequestHeader": "Upgrade",
            "Set": "$http_upgrade"
          },
          {
            "RequestHeader": "Connection",
            "Set": "$http_connection"
          },
          {
            "RequestHeader": "Host",
            "Set": "$host"
          },
          {
            "X-Forwarded": "Set",
            "For": "Append",
            "Proto": "Append",
            "Prefix": "Append",
            "HeaderPrefix": "X-Forwarded-"
          }
        ]
      },
      "connections": {
        "ClusterId": "connections",
        "Match": {
          "path": "/hubs/connections"
          //          "path"
        },
        "Transforms": [
          {
            "PathSet": "/hubs/connections"
          }
          /*{
            "RequestHeadersCopy": "true"
          },
          {
            "RequestHeaderOriginalHost": "true"
          },
          {
            "RequestHeader": "Upgrade",
            "Set": "WebSocket"
          },
          {
            "RequestHeader": "Connection",
            "Set": "Upgrade"
          },
          {
            "X-Forwarded": "Set",
            "For": "Append",
            "Proto": "Append",
            "Prefix": "Append",
            "HeaderPrefix": "X-Forwarded-"
          }*/
        ]
      }
    },
    "Clusters": {
      "auth": {
        "Destinations": {
          "auth": {
            "Address": "https://localhost:6005"
          }
        },
        "HttpClient": {
          "MaxConnectionsPerServer": "10",
          "DangerousAcceptAnyServerCertificate": "true",
          "EnableMultipleHttp2Connections": "true",
          "WebProxy": {
            "Address": "https://localhost:6005",
            "UseDefaultCredentials": "false"
          }
        }
      },
      "users": {
        "Destinations": {
          "users": {
            "Address": "https://localhost:6004"
          }
        }
      },
      "connections": {
        "Destinations": {
          "connections": {
            "Address": "https://localhost:6004/hubs/connections"
          }
        }
      }
    }
  },
  "Jwt": {
    "Key": "complexpassword123456",
    "Issuer": "https://solarengineer.app",
    "Audience": "https://api.solarengineer.app"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
