<ng-container *ngIf="user$ | async as user">
  <div class="flex flex-row items-center justify-center">
    <form class="px-8 pt-6 pb-8 mb-4">
      <h3>{{ groupChatName }} Members</h3>

      <!--      <button (click)="enableKickMode()" mat-stroked-button color="primary" type="button">-->
      <!--        Kick Members-->
      <!--      </button>-->
      <!--      [multiple]="true"-->
      <mat-selection-list
        (selectionChange)="memberListChange($event)"
        [multiple]="false"
        class="flex flex-col items-center content-center"
      >
        <cdk-virtual-scroll-viewport
          [ngStyle]="{
            height: '350px',
            width: '400px'
          }"
          class="flex flex-col items-center content-center"
          itemSize="25"
        >
          <!--          [ngStyle]='{"background-color": notification.status === 0 ? "#60a1fa" : ""}'-->
          <!--            messages | sortMessages : false'-->
          <!--            [message]='message'-->
          <mat-list-option
            *cdkVirtualFor="let member of groupChatMembers$ | async"
            [value]="member"
          >
            <!--            <mat-icon *ngIf="member.isOnline" matListItemIcon>wifi</mat-icon>-->
            <!--            <div class="relative">-->
            <app-group-chat-member-item-component
              [member]="member"
            ></app-group-chat-member-item-component>
            <!--            <img class="w-8 h-8 rounded-full" matListItemIcon [src]="member.photoUrl" alt="" />
                        <span
                          *ngIf="member.isOnline"
                          class="top-1 left-9 absolute w-3.5 h-3.5 bg-green-400 border-2 border-white dark:border-gray-800 rounded-full"
                        ></span>
                        &lt;!&ndash;            </div>&ndash;&gt;

                        <span matListItemTitle>{{ member.userName }} </span>-->
            <!--            <span
                          class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300"
                        >
                          <span class="w-2 h-2 mr-1 bg-green-500 rounded-full"></span>
                          Available
                        </span>-->
            <!--            <span matListItemLine>{{ member..messageSentTime | date: "short" }}</span>-->
            <!--            <p matListItemLine>
                          {{
                            chatroom.message.senderUserName === user.userName
                              ? "You:"
                              : chatroom.message.senderUserName + ":"
                          }}
                          {{ chatroom.message.content }}
                        </p>-->
          </mat-list-option>
        </cdk-virtual-scroll-viewport>
      </mat-selection-list>
      <!--
            <div *ngFor="let item of selectedMembersToInvite">
              {{ item.userName }}
            </div>-->

      <div class="flex items-center content-center justify-center">
        <!--        <button (click)="enableKickMode()" mat-stroked-button color="primary" type="button">
                  Kick Mode
                </button>-->
        <button
          [disabled]="
            !groupChatPermissions.canKick ||
            selectedMembersToInvite.length < 1 ||
            selectedMember?.displayName === user.displayName
          "
          (click)="removeFromGroup()"
          mat-stroked-button
          color="primary"
          type="button"
        >
          <span *ngIf="groupChatPermissions.canKick; else cantKick">
            Remove {{ selectedMember?.displayName
            }}<!-- from {{ groupChatName }}-->
          </span>
          <ng-template #cantKick>
            <span *ngIf="!groupChatPermissions.canKick"
              >Do not have group chat permissions to kick</span
            >
          </ng-template>
        </button>
        <!--        <a
                  class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"
                  href="#"
                >
                  Cancel
                </a>-->
      </div>
    </form>
  </div>
</ng-container>
