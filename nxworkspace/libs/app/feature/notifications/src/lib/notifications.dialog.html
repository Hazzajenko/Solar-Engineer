<ng-container *ngIf='user$ | async as user'>
  <ng-container *ngIf='notifications$ | async as notifications'>
    <div class='flex flex-col items-center content-center'>
      <h1 mat-dialog-title>Notifications</h1>
    </div>
    <button mat-button
            (click)='markAllNotificationsAsRead(notifications)'>
      Mark All As Read
    </button>
    <!--  <cdk-virtual-scroll-viewport style='height: 200px; width: 200px' itemSize='50' class='example-viewport'>
        <mat-list-option *cdkVirtualFor='let notification of notifications$ | async' [value]='notification'>
          <ng-container [ngSwitch]='notification.type'>
            <ng-container *ngSwitchCase='1'>
              <span matListItemTitle>Friend Request</span>
              <span matListItemLine>{{notification.timeCreated | date : 'short'}}</span>
              <span matListItemLine>From {{notification.notification.requestedByUsername}}</span>
            </ng-container>
          </ng-container>

        </mat-list-option>
      </cdk-virtual-scroll-viewport>-->
    <mat-selection-list (selectionChange)='change($event)' #notificationSelect [multiple]='false'
                        class='flex flex-col items-center content-center'>
      <cdk-virtual-scroll-viewport style='height: 200px; width: 200px'
                                   itemSize='50'
                                   class='flex flex-col items-center content-center'>
        <mat-list-option *cdkVirtualFor='let notification of notifications | sortNotifications' [value]='notification'>
          <ng-container [ngSwitch]='notification.type'>
            <ng-container *ngSwitchCase='1'>
              <span matListItemTitle>Friend Request</span>
              <span matListItemLine>{{notification.timeCreated | date : 'short'}}</span>
              <span matListItemLine>From {{notification.notification.requestedByUsername}}</span>
            </ng-container>
          </ng-container>

        </mat-list-option>
      </cdk-virtual-scroll-viewport>
      <!--    <mat-list-option *ngFor='let notification of notifications$ | async' [value]='notification'>
            <ng-container [ngSwitch]='notification.type'>
              <ng-container *ngSwitchCase='1'>
                <span matListItemTitle>Friend Request</span>
                <span matListItemLine>{{notification.timeCreated | date : 'short'}}</span>
                <span matListItemLine>From {{notification.notification.requestedByUsername}}</span>
              </ng-container>
            </ng-container>

          </mat-list-option>-->
    </mat-selection-list>
    <!--  <p>
        Notification
        selected: {{selectedNotification ? selectedNotification.notification.requestedByUsername : 'None'}}
      </p>-->
    <!--  <ng-container *ngIf="user.">-->

    <!--  </ng-container>-->
    <mat-dialog-actions align='center'>
      <ng-container *ngIf='selectedNotification'>
        <button *ngIf='selectedNotification.type === 1' mat-button
                (click)='acceptFriend(selectedNotification.notification.requestedByUsername)'>
          Accept {{selectedNotification.notification.requestedByUsername}}</button>
      </ng-container>
      <button mat-button mat-dialog-close='true'>Exit</button>
    </mat-dialog-actions>
  </ng-container>
</ng-container>